# This is your vulnerable VM - Target machine

![redVM](https://user-images.githubusercontent.com/120714890/209565641-8d382a9b-7db3-464b-8a4b-cb97158d6a6b.png)

# description
The object of the task is to acquire root access via any means possible. The purpose of these tasks are to learn the basic tools and techniques in vulnerability 
assessment and penetration testing.

# Methodology

* Network Scanning

* Enumeration

* Exploitation

* Gaining root access

# Used Tools

* Nmap

* DirBuster

# Lets start

Turn on your attacking machine (kali linux) and scan the local network for getting the victim's IP address. You can use netdiscover command for that.

**sudo netdiscover**

![netdiscover](https://user-images.githubusercontent.com/120714890/209566597-f27541c6-689b-465c-8985-95e6942a79e3.png)

After getting the IP address of the target we are going to enumerate the target for open ports and protocols. I have used Nmap aggressive command for that. 
Please consider your target IP address may be different from mine.

**sudo nmap -A 192.168.56.105**

![nmapScan](https://user-images.githubusercontent.com/120714890/209571705-531ad882-eb03-45c4-8163-4765791ef91d.png)

Since port 8080 is open and thatâ€™s running apache service. So, I tried to look at it. But this page doesn't really have anything on it.

Then I viewed the page source to get more information.

![pagesource](https://user-images.githubusercontent.com/120714890/209681176-08a50bc1-33d0-44c3-92a1-7580023519c5.png)

Then I used **DirBuster** to bruteforce directories/files from the webserver.

wordlist: **/usr/share/dirb/wordlists/common.txt**

![dbreport1](https://user-images.githubusercontent.com/120714890/209682751-9ca2c693-29ef-4744-ba4a-db9639a0a951.png)

**/myblog** is useful one.

Re-run the DirBuster at the subdirectory /myblog/ and using a more elaborate wordlist. (**/usr/share/wordlists/dirbuster/directorylist-2.3-medium.txt**)


Search the following url on your webbrowser (**http://192.168.56.105:8080/myblog/data/users/**) . We get,

![web1](https://user-images.githubusercontent.com/120714890/209687328-eb2ba758-465f-4b62-9aef-bd4afeecd298.png)

Click on **corey.xml**

![web2](https://user-images.githubusercontent.com/120714890/209687337-a5c26552-5f9b-49d4-ab83-521360ae5964.png)

Thus we get the **username** & **hash**

Using the hash analyzer we can figure out that the hash is **sha1**


# Crack the password using John the Ripper

**'corey:41bdd5e35a3efaddd61988829a736264b906de83'** this hash is stored in a text file **corey.txt**

Here is the command to run John in dictionary mode using the wordlist.

**$john --wordlist=rockyou.txt --format=raw-sha1 corey.txt**

And John finds the password pretty quickly.

![john](https://user-images.githubusercontent.com/120714890/209690420-bc1a5c88-5f1a-464e-9581-36588ea56c5e.png)

# Access to SSH

Please recall that **SSH** is open and running on port 22. So we can gain access to SSH by entering following command on terminal(attacking)

**$ssh corey@192.168.56.105**

Enter the cracked password for ssh connection. Thus we get a command line section for the target machine.

![ssh](https://user-images.githubusercontent.com/120714890/209704122-7b2475a2-8147-413a-ac0f-4cd063058422.png)

So, our task-1 is completed. **We found local.txt**

# Get root access

We have to find proof.txt and the user corey cant find the mentioned file. So, we will try to gain root access...!

I am going to use the scope of **previlege escalation using sudo rights**.

Check what you can run as sudo...?

**sudo -l**

![sudols](https://user-images.githubusercontent.com/120714890/209705344-ea3bfc7a-0697-4b88-b8fb-933fc9a20c68.png)

Here, the user corey can run less command as a root user. So, we can create a spawn shell using the less command.

**$sudo less /etc/hosts**

and, enter **!bash**  Thus we got the root power

![proof](https://user-images.githubusercontent.com/120714890/209707182-8655ef7a-f741-4aed-b7da-3582467a0f02.png)

Our goal is achieved by accessing the files **local.txt** & **proof.txt**

